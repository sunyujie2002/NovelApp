"use strict";(self["webpackChunkvue3_nf0"]=self["webpackChunkvue3_nf0"]||[]).push([[804],{1804:function(e,a,l){l.r(a),l.d(a,{default:function(){return M}});l(7658);var i=l(6252),o=l(3577),t=l(9963),n=l(2262),s=l(2201);const u=e=>((0,i.dD)("data-v-b698c45c"),e=e(),(0,i.Cn)(),e),c={class:"app-contain",style:{minHeight:"100vh",padding:"0",margin:"0px  auto",overflow:"hidden",borderRadius:"4px",background:"none",width:"1200px",position:"relative"}},d={key:0,class:"back_view"},r={class:"bread_view"},v={class:"search_view"},g=u((()=>(0,i._)("div",{class:"search_label"}," 小说名称： ",-1))),p={class:"search_box"},h={class:"search_view"},m=u((()=>(0,i._)("div",{class:"search_label"}," 小说分类： ",-1))),_={class:"search_box"},x={class:"search_view"},f=u((()=>(0,i._)("div",{class:"search_label"}," 作家姓名： ",-1))),b={class:"search_box"},w={class:"search_btn_view"},k={class:"category_view"},y=["onClick"],C={class:"list_bottom"},H={class:"data_box"},z={class:"data_view"},W=["onClick"],j=["onClick"],D=["onClick"],U={class:"data_content"},V={class:"data_title"},$={class:"data_title"},q={class:"data_title"},A={key:0,class:"data_price"},N=["src"];var S={__name:"list",setup(e){const a=(0,i.FN)()?.appContext.config.globalProperties,l=(0,s.tv)(),u=(0,s.yj)(),S="xiaoshuoxinxi",K="小说信息",Y=(0,n.iH)([{name:K}]),M=(0,n.iH)([]),T=(0,n.iH)({page:1,limit:Number(8)}),J=(0,n.iH)(0),O=(0,n.iH)(!1),P=(e,l)=>F.value?a?.$toolUtil.isBackAuth(e,l):a?.$toolUtil.isAuth(e,l),Q=()=>{l.push("/index/xiaoshuoxinxiAdd")},B=(0,n.iH)(""),F=(0,n.iH)(!1),G=()=>{l.push(`/index/${a?.$toolUtil.storageGet("frontSessionTable")}Center`)},I=()=>{u.query.centerType&&(F.value=!0),u.query.indexQueryCondition&&(B.value=u.query.indexQueryCondition),se(),oe()},R=(0,n.iH)({}),Z=(0,n.iH)([]),E=()=>{a?.$http({url:"option/xiaoshuofenlei/xiaoshuofenlei",method:"get"}).then((e=>{Z.value=e.data.data}))};E();const L=()=>{T.value.page=1,oe()},X=(0,n.iH)(["total","prev","pager","next","sizes"]),ee=e=>{T.value.limit=e,oe()},ae=e=>{T.value.page=e,oe()},le=()=>{T.value.page=T.value.page-1,oe()},ie=()=>{T.value.page=T.value.page+1,oe()},oe=()=>{O.value=!0;let e=JSON.parse(JSON.stringify(T.value));B.value&&(e.xiaoshuomingcheng="%"+B.value+"%",B.value=""),-1!=ne.value&&(e.xiaoshuofenlei=te.value[ne.value]),R.value.xiaoshuomingcheng&&""!=R.value.xiaoshuomingcheng&&(e.xiaoshuomingcheng="%"+R.value.xiaoshuomingcheng+"%"),R.value.xiaoshuofenlei&&""!=R.value.xiaoshuofenlei&&(e.xiaoshuofenlei=R.value.xiaoshuofenlei),R.value.zuojiaxingming&&""!=R.value.zuojiaxingming&&(e.zuojiaxingming="%"+R.value.zuojiaxingming+"%"),a?.$http({url:`${S}/${F.value?"page":"list"}`,method:"get",params:e}).then((e=>{O.value=!1,M.value=e.data.data.list,J.value=Number(e.data.data.total)}))},te=(0,n.iH)([]),ne=(0,n.iH)(-1),se=()=>{a?.$http({url:"option/xiaoshuofenlei/xiaoshuofenlei",method:"get"}).then((e=>{te.value=e.data.data}))},ue=e=>{T.value.page=1,ne.value=e,oe()},ce=e=>{l.push("xiaoshuoxinxiDetail?id="+e+(F.value?"&&centerType=1":""))},de=(0,n.iH)(""),re=(0,n.iH)(!1),ve=e=>{de.value=e,re.value=!0};return I(),(e,a)=>{const l=(0,i.up)("el-button"),n=(0,i.up)("el-breadcrumb-item"),s=(0,i.up)("el-breadcrumb"),u=(0,i.up)("el-input"),S=(0,i.up)("el-option"),K=(0,i.up)("el-select"),O=(0,i.up)("el-form"),B=(0,i.up)("el-image"),I=(0,i.up)("el-pagination"),E=(0,i.up)("el-dialog");return(0,i.wg)(),(0,i.iD)("div",c,[F.value?((0,i.wg)(),(0,i.iD)("div",d,[(0,i.Wm)(l,{class:"back_btn",onClick:G,type:"primary"},{default:(0,i.w5)((()=>[(0,i.Uk)("返回")])),_:1})])):(0,i.kq)("",!0),(0,i._)("div",r,[(0,i.Wm)(s,{separator:">",class:"breadcrumb"},{default:(0,i.w5)((()=>[(0,i.Wm)(n,{class:"first_breadcrumb",to:{path:"/"}},{default:(0,i.w5)((()=>[(0,i.Uk)("首页")])),_:1}),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(Y.value,((e,a)=>((0,i.wg)(),(0,i.j4)(n,{class:"second_breadcrumb",key:a},{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(e.name),1)])),_:2},1024)))),128))])),_:1})]),(0,i.Wm)(O,{inline:!0,model:R.value,class:"list_search"},{default:(0,i.w5)((()=>[(0,i._)("div",v,[g,(0,i._)("div",p,[(0,i.Wm)(u,{class:"search_inp",modelValue:R.value.xiaoshuomingcheng,"onUpdate:modelValue":a[0]||(a[0]=e=>R.value.xiaoshuomingcheng=e),placeholder:"小说名称",clearable:""},null,8,["modelValue"])])]),(0,i._)("div",h,[m,(0,i._)("div",_,[(0,i.Wm)(K,{class:"search_sel",clearable:"",modelValue:R.value.xiaoshuofenlei,"onUpdate:modelValue":a[1]||(a[1]=e=>R.value.xiaoshuofenlei=e),placeholder:"小说分类"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(Z.value,(e=>((0,i.wg)(),(0,i.j4)(S,{label:e,value:e},null,8,["label","value"])))),256))])),_:1},8,["modelValue"])])]),(0,i._)("div",x,[f,(0,i._)("div",b,[(0,i.Wm)(u,{class:"search_inp",modelValue:R.value.zuojiaxingming,"onUpdate:modelValue":a[2]||(a[2]=e=>R.value.zuojiaxingming=e),placeholder:"作家姓名",clearable:""},null,8,["modelValue"])])]),(0,i._)("div",w,[(0,i.Wm)(l,{class:"search_btn",type:"primary",onClick:L},{default:(0,i.w5)((()=>[(0,i.Uk)("搜索")])),_:1}),P("xiaoshuoxinxi","新增")?((0,i.wg)(),(0,i.j4)(l,{key:0,class:"add_btn",type:"success",onClick:Q},{default:(0,i.w5)((()=>[(0,i.Uk)("新增")])),_:1})):(0,i.kq)("",!0)])])),_:1},8,["model"]),(0,i._)("div",k,[(0,i._)("div",{class:(0,o.C_)(["category",-1==ne.value?"categoryActive":""]),onClick:a[3]||(a[3]=e=>ue(-1))},"全部 ",2),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(te.value,((e,a)=>((0,i.wg)(),(0,i.iD)("div",{class:(0,o.C_)(["category",ne.value==a?"categoryActive":""]),key:a,onClick:e=>ue(a)},(0,o.zw)(e),11,y)))),128))]),(0,i._)("div",C,[(0,i._)("div",H,[(0,i._)("div",z,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(M.value,((a,l)=>((0,i.wg)(),(0,i.iD)("div",{class:"data_item animation_box",key:l,onClick:(0,t.iM)((e=>ce(a.id)),["stop"])},[a.fengmian&&"http"==a.fengmian.substr(0,4)?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"data_img_box",onClick:(0,t.iM)((e=>ve(a.fengmian)),["stop"])},[(0,i.Wm)(B,{class:"data_img",src:a.fengmian,fit:"cover"},null,8,["src"])],8,j)):((0,i.wg)(),(0,i.iD)("div",{key:1,class:"data_img_box",onClick:(0,t.iM)((l=>ve(e.$config.url+a.fengmian.split(",")[0])),["stop"])},[(0,i.Wm)(B,{class:"data_img",src:a.fengmian?e.$config.url+a.fengmian.split(",")[0]:"",fit:"cover"},null,8,["src"])],8,D)),(0,i._)("div",U,[(0,i._)("div",V,"小说名称："+(0,o.zw)(a.xiaoshuomingcheng),1),(0,i._)("div",$,(0,o.zw)(a.xiaoshuofenlei),1),(0,i._)("div",q,(0,o.zw)(a.zuojiaxingming),1),a.price?((0,i.wg)(),(0,i.iD)("div",A,"￥"+(0,o.zw)(a.price),1)):(0,i.kq)("",!0)])],8,W)))),128))]),(0,i.Wm)(I,{background:"",layout:X.value.join(","),total:J.value,"page-size":T.value.limit,"prev-text":"上一页","next-text":"下一页","hide-on-single-page":!1,style:{border:"0px solid #eee",padding:"4px 0",margin:"10px 0 20px",whiteSpace:"nowrap",color:"#333",textAlign:"center",flexWrap:"wrap",background:"none",display:"flex",width:"100%",fontWeight:"500",justifyContent:"center"},onSizeChange:ee,onCurrentChange:ae,onPrevClick:le,onNextClick:ie},null,8,["layout","total","page-size"])])]),(0,i.Wm)(E,{modelValue:re.value,"onUpdate:modelValue":a[4]||(a[4]=e=>re.value=e),title:"查看大图",width:"60%","destroy-on-close":""},{default:(0,i.w5)((()=>[(0,i._)("img",{src:de.value,style:{width:"100%"},alt:""},null,8,N)])),_:1},8,["modelValue"])])}}},K=l(3744);const Y=(0,K.Z)(S,[["__scopeId","data-v-b698c45c"]]);var M=Y}}]);
//# sourceMappingURL=804.54fb1e86.js.map
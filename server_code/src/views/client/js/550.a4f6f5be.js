"use strict";(self["webpackChunkvue3_nf0"]=self["webpackChunkvue3_nf0"]||[]).push([[550],{7550:function(e,a,t){t.r(a),t.d(a,{default:function(){return P}});t(7658);var l=t(6252),i=t(3577),s=(t(6154),t(2262)),u=t(9737),n=t(2201);const d=e=>((0,l.dD)("data-v-22bfa7b2"),e=e(),(0,l.Cn)(),e),o={class:"app-contain",style:{padding:"20px 20px",margin:"20px auto 40px",alignItems:"flex-start",flexWrap:"wrap",background:"none",display:"flex",width:"1200px",position:"relative",justifyContent:"space-between"}},r={class:"back_view"},c={class:"bread_view"},v={class:"detail_view"},p={class:"swiper_view"},_=["src"],m={class:"info_view"},b=d((()=>(0,l._)("div",{class:"title_view"},[(0,l._)("div",{class:"detail_title"})],-1))),f={class:"info_item"},w=d((()=>(0,l._)("div",{class:"info_label"},"价格",-1))),h={class:"info_price"},y=d((()=>(0,l._)("span",null,"￥",-1))),g={key:0,class:"info_item"},k=d((()=>(0,l._)("div",{class:"info_label"},"积分",-1))),x={class:"info_price"},$={class:"info_item"},U=d((()=>(0,l._)("div",{class:"info_label"},"关联表id",-1))),H={class:"info_text"},C={class:"info_item"},W=d((()=>(0,l._)("div",{class:"info_label"},"章节数",-1))),j={class:"info_text"},T={class:"info_item"},z=d((()=>(0,l._)("div",{class:"info_label"},"章节标题",-1))),V={class:"info_text"},q={class:"btn_view"},N={class:"btn_view"},B=["innerHTML"];var D={__name:"formModel",setup(e){const a=(0,l.FN)()?.appContext.config.globalProperties,t=(0,n.yj)(),d=(0,n.tv)(),D="chapterxiaoshuoxinxi",M="小说信息章节表",A=(0,s.iH)([{name:M}]),P=(e,t)=>Y.value?a?.$toolUtil.isBackAuth(e,t):a?.$toolUtil.isAuth(e,t),F=()=>{history.back()},G=(0,s.iH)([]),I=(0,s.iH)(""),L=(0,s.iH)({}),S=(0,s.iH)("first"),K=()=>{a?.$http({url:`${D}/detail/${t.query.id}`,method:"get"}).then((e=>{L.value=e.data.data,J()}))},Y=(0,s.iH)(!1),Z=()=>{t.query.centerType&&(Y.value=!0),K()},E=(0,s.iH)(!1),J=()=>{a?.$http({url:"cart/list",method:"get",params:{userid:a?.$toolUtil.storageGet("userid"),tablename:D,goodid:L.value.id}}).then((e=>{e.data.data.list.length?E.value=!0:E.value=!1}))},O=(0,s.iH)({userid:a?.$toolUtil.storageGet("userid")}),Q=()=>{if(E.value)return a?.$toolUtil.message("该商品已在购物车，请前往购买","error"),!1;O.value.buynumber=buyNumber.value,O.value.goodid=L.value.id,O.value.goodname=I.value,O.value.tablename=D,O.value.picture=G.value[0],O.value.price=L.value.price,a?.$http({url:"cart/save",method:"post",data:O.value}).then((e=>{a?.$toolUtil.message("添加成功","success"),J()}))},R=()=>{d.push(`/index/${D}Add?id=${L.value.id}&&type=edit`)},X=()=>{u.T.confirm(`是否删除此${M}？`,"提示",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then((()=>{a?.$http({url:`${D}/delete`,method:"post",data:[L.value.id]}).then((e=>{a?.$toolUtil.message("删除成功","success",(()=>{history.back()}))}))}))};return(0,l.bv)((()=>{Z()})),(e,a)=>{const t=(0,l.up)("el-button"),s=(0,l.up)("el-breadcrumb-item"),u=(0,l.up)("el-breadcrumb"),n=(0,l.up)("mySwiper"),d=(0,l.up)("el-input-number"),D=(0,l.up)("el-tab-pane"),M=(0,l.up)("el-tabs");return(0,l.wg)(),(0,l.iD)("div",o,[(0,l._)("div",r,[(0,l.Wm)(t,{class:"back_btn",onClick:F,type:"primary"},{default:(0,l.w5)((()=>[(0,l.Uk)("返回")])),_:1})]),(0,l._)("div",c,[(0,l.Wm)(u,{separator:">",class:"breadcrumb"},{default:(0,l.w5)((()=>[(0,l.Wm)(s,{class:"first_breadcrumb",to:{path:"/"}},{default:(0,l.w5)((()=>[(0,l.Uk)("首页")])),_:1}),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(A.value,((e,a)=>((0,l.wg)(),(0,l.j4)(s,{class:"second_breadcrumb",key:a},{default:(0,l.w5)((()=>[(0,l.Uk)((0,i.zw)(e.name),1)])),_:2},1024)))),128))])),_:1})]),(0,l._)("div",v,[(0,l._)("div",p,[(0,l.Wm)(n,{data:G.value,type:3,loop:!1,navigation:!1,pagination:!0,paginationType:1,scrollbar:!1,slidesPerView:1,spaceBetween:20,autoHeight:!1,centeredSlides:!1,freeMode:!1,effectType:1,direction:e.horizontal,autoplay:!0,slidesPerColumn:1},{default:(0,l.w5)((a=>[(0,l._)("img",{style:{objectFit:"contain",width:"100%",height:"480px"},src:a.row?e.$config.url+a.row:""},null,8,_)])),_:1},8,["data","direction"])]),(0,l._)("div",m,[b,(0,l._)("div",f,[w,(0,l._)("div",h,[y,(0,l.Uk)((0,i.zw)(L.value.price),1)])]),L.value.jf?((0,l.wg)(),(0,l.iD)("div",g,[k,(0,l._)("div",x,(0,i.zw)(L.value.jf),1)])):(0,l.kq)("",!0),(0,l._)("div",$,[U,(0,l._)("div",H,(0,i.zw)(L.value.refid),1)]),(0,l._)("div",C,[W,(0,l._)("div",j,(0,i.zw)(L.value.chapternum),1)]),(0,l._)("div",T,[z,(0,l._)("div",V,(0,i.zw)(L.value.chaptertitle),1)]),(0,l._)("div",q,[(0,l.Wm)(d,{class:"inputNumber",modelValue:e.buyNumber,"onUpdate:modelValue":a[0]||(a[0]=a=>e.buyNumber=a),min:1},null,8,["modelValue"]),(0,l.Wm)(t,{class:"addCart_btn",type:"primary",onClick:Q},{default:(0,l.w5)((()=>[(0,l.Uk)("加入购物车")])),_:1})]),(0,l._)("div",N,[Y.value&&P("chapterxiaoshuoxinxi","修改")?((0,l.wg)(),(0,l.j4)(t,{key:0,class:"edit_btn",type:"primary",onClick:R},{default:(0,l.w5)((()=>[(0,l.Uk)("修改")])),_:1})):(0,l.kq)("",!0),Y.value&&P("chapterxiaoshuoxinxi","删除")?((0,l.wg)(),(0,l.j4)(t,{key:1,class:"del_btn",type:"danger",onClick:X},{default:(0,l.w5)((()=>[(0,l.Uk)("删除")])),_:1})):(0,l.kq)("",!0)])])]),(0,l.Wm)(M,{type:"border-card",modelValue:S.value,"onUpdate:modelValue":a[1]||(a[1]=e=>S.value=e),class:"tabs_view"},{default:(0,l.w5)((()=>[(0,l.Wm)(D,{label:"章节内容",name:"first"},{default:(0,l.w5)((()=>[(0,l._)("div",{innerHTML:L.value.content},null,8,B)])),_:1})])),_:1},8,["modelValue"])])}}},M=t(3744);const A=(0,M.Z)(D,[["__scopeId","data-v-22bfa7b2"]]);var P=A}}]);
//# sourceMappingURL=550.a4f6f5be.js.map
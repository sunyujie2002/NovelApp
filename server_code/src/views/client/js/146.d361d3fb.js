"use strict";(self["webpackChunkvue3_nf0"]=self["webpackChunkvue3_nf0"]||[]).push([[146],{146:function(e,t,l){l.r(t),l.d(t,{default:function(){return O}});l(7658);var o=l(6252),a=l(3577),i=l(2262),n=(l(4985),l(6154)),s=l(2201),r=l(6121);function u(e){return!!(0,i.nZ)()&&((0,i.EB)(e),!0)}function c(e){return"function"===typeof e?e():(0,i.SU)(e)}const d="undefined"!==typeof window&&"undefined"!==typeof document,p=("undefined"!==typeof WorkerGlobalScope&&(globalThis,WorkerGlobalScope),Object.prototype.toString),v=e=>"[object Object]"===p.call(e),g=()=>{};r.$B,r.$B,r.$B;function m(e){const t=Object.create(null);return l=>{const o=t[l];return o||(t[l]=e(l))}}const f=/\B([A-Z])/g,w=(m((e=>e.replace(f,"-$1").toLowerCase())),/-(\w)/g);m((e=>e.replace(w,((e,t)=>t?t.toUpperCase():""))));function _(e){var t;const l=c(e);return null!=(t=null==l?void 0:l.$el)?t:l}const h=d?window:void 0;d&&window.document,d&&window.navigator,d&&window.location;function b(...e){let t,l,a,i;if("string"===typeof e[0]||Array.isArray(e[0])?([l,a,i]=e,t=h):[t,l,a,i]=e,!t)return g;Array.isArray(l)||(l=[l]),Array.isArray(a)||(a=[a]);const n=[],s=()=>{n.forEach((e=>e())),n.length=0},r=(e,t,l,o)=>(e.addEventListener(t,l,o),()=>e.removeEventListener(t,l,o)),d=(0,o.YP)((()=>[_(t),c(i)]),(([e,t])=>{if(s(),!e)return;const o=v(t)?{...t}:t;n.push(...l.flatMap((t=>a.map((l=>r(e,t,l,o))))))}),{immediate:!0,flush:"post"}),p=()=>{d(),s()};return u(p),p}"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self&&self;Number.POSITIVE_INFINITY;function y(e={}){const{window:t=h,behavior:l="auto"}=e;if(!t)return{x:(0,i.iH)(0),y:(0,i.iH)(0)};const a=(0,i.iH)(t.scrollX),n=(0,i.iH)(t.scrollY),s=(0,o.Fl)({get(){return a.value},set(e){scrollTo({left:e,behavior:l})}}),r=(0,o.Fl)({get(){return n.value},set(e){scrollTo({top:e,behavior:l})}});return b(t,"scroll",(()=>{a.value=t.scrollX,n.value=t.scrollY}),{capture:!1,passive:!0}),{x:s,y:r}}const $=e=>((0,o.dD)("data-v-27a70a30"),e=e(),(0,o.Cn)(),e),k={class:"home"},U={class:"index_top"},x=$((()=>(0,o._)("div",{class:"index_top_title"},"在线小说阅读网",-1))),S={class:"index_top_right"},C={key:0,class:"weather_time_view"},z={class:"weather"},H={class:"city"},T={class:"wea"},G={class:"time"},I={class:"date"},j={class:"timer"},D={key:1,class:"index_top_login"},W=$((()=>(0,o._)("span",null,"登录",-1))),Y=$((()=>(0,o._)("span",null,"退出登录",-1))),A=$((()=>(0,o._)("span",null,"首页",-1))),B=$((()=>(0,o._)("span",null,"个人中心",-1))),N=$((()=>(0,o._)("div",{class:"bottom_view"},[(0,o._)("div",{class:"bottom_company"}),(0,o._)("div",{class:"bottom_record"}),(0,o._)("div",{class:"bottom_desc"})],-1)));var P={__name:"index",setup(e){const{y:t}=y(),l=(0,s.tv)(),r=(0,o.FN)()?.appContext.config.globalProperties,u=(0,i.iH)(""),c=(0,i.iH)({}),d=(0,i.iH)(""),p=(0,i.iH)(""),v=(0,i.iH)(null),g=()=>{(0,n.Z)({method:"get",url:"http://v0.yiketianqi.com/free/day?appid=69475998&appsecret=rldbX1Zl&city=北京"}).then((e=>{c.value=e.data}))};(0,o.YP)((()=>l.currentRoute.value),(()=>{u.value=r?.$toolUtil.storageGet("frontToken"),m.value=r?.$toolUtil.storageGet("menuIndex")?r?.$toolUtil.storageGet("menuIndex"):"0"})),(0,o.Jd)((()=>{clearInterval(v.value)}));const m=(0,i.iH)("0"),f=()=>{m.value=r?.$toolUtil.storageGet("menuIndex")?r?.$toolUtil.storageGet("menuIndex"):"0",h(),u.value=r?.$toolUtil.storageGet("frontToken"),v.value=setInterval((()=>{d.value=r?.$toolUtil.getCurDate(),p.value=r?.$toolUtil.getCurDateTime().split(" ")[1]}),1e3),g(),u.value&&O()},w=e=>{r?.$toolUtil.storageSet("menuIndex",e)},_=(r?.$config.url,(0,i.iH)([])),h=((0,i.iH)(""),()=>{let e={page:1,limit:1,sort:"id"};r?.$http({url:"menu/list",method:"get",params:e}).then((e=>{r?.$toolUtil.storageSet("menus",e.data.data.list[0].menujson)})),_.value=r?.$config.menuList}),b=()=>{r?.$toolUtil.storageSet("toPath",window.history.state.current),l.push("/login")},$=()=>{l.push("/duzheRegister")},P=()=>{r?.$toolUtil.message("退出成功","success"),r?.$toolUtil.storageClear(),l.replace("/index/home"),r?.$toolUtil.storageSet("menuIndex","0"),u.value=""},q=e=>{"center"==e&&(e=`${r?.$toolUtil.storageGet("frontSessionTable")}Center`),l.push(e)},E=e=>{window.open(e,"_blank")},O=()=>{r?.$http({url:`${r?.$toolUtil.storageGet("frontSessionTable")}/session`,method:"get"}).then((e=>{r?.$toolUtil.storageSet("userid",e.data.data.id),"duzhe"==r?.$toolUtil.storageGet("frontSessionTable")&&r?.$toolUtil.storageSet("frontName",e.data.data.zhanghao),"duzhe"==r?.$toolUtil.storageGet("frontSessionTable")&&r?.$toolUtil.storageSet("headportrait",e.data.data.touxiang),"zuojia"==r?.$toolUtil.storageGet("frontSessionTable")&&r?.$toolUtil.storageSet("frontName",e.data.data.zuojiazhanghao),"zuojia"==r?.$toolUtil.storageGet("frontSessionTable")&&r?.$toolUtil.storageSet("headportrait",e.data.data.zhaopian)}))};return f(),(e,l)=>{const n=(0,o.up)("el-button"),s=(0,o.up)("el-menu-item"),r=(0,o.up)("el-sub-menu"),v=(0,o.up)("el-menu"),g=(0,o.up)("el-scrollbar"),m=(0,o.up)("router-view"),f=(0,o.up)("el-backtop");return(0,o.wg)(),(0,o.iD)("div",k,[(0,o._)("div",U,[x,(0,o._)("div",S,[u.value?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[d.value&&c.value.city?((0,o.wg)(),(0,o.iD)("div",C,[(0,o._)("div",z,[(0,o._)("div",H,(0,a.zw)(c.value.city),1),(0,o._)("div",T,(0,a.zw)(c.value.wea)+" | "+(0,a.zw)(c.value.tem)+"℃ ",1)]),(0,o._)("div",G,[(0,o._)("div",I,(0,a.zw)(d.value),1),(0,o._)("div",j,(0,a.zw)(p.value),1)])])):(0,o.kq)("",!0)],64)):(0,o.kq)("",!0),u.value?((0,o.wg)(),(0,o.iD)("div",{key:2,class:"index_top_loginOut",onClick:P},[(0,o.Wm)(n,{type:"danger",icon:"SwitchButton",circle:""}),Y])):((0,o.wg)(),(0,o.iD)("div",D,[(0,o._)("div",{class:"login",onClick:b},[(0,o.Wm)(n,{type:"success",icon:"User",circle:""}),W]),(0,o._)("span",{class:"register",onClick:$},"注册")]))])]),(0,o.Wm)(g,{class:"contain_view"},{default:(0,o.w5)((()=>[(0,o.Wm)(g,{"wrap-class":"scrollbar-wrapper",class:(0,a.C_)((0,i.SU)(t)>165?"fixed_menu_scrollbar":"menu_scrollbar")},{default:(0,o.w5)((()=>[(0,o.Wm)(v,{"default-openeds":[],"unique-opened":!0,"default-active":e.$route.fullPath,router:!0,class:"menu_view",mode:"horizontal",ellipsis:!1,onSelect:w},{default:(0,o.w5)((()=>[(0,o.Wm)(s,{class:"first_item",index:"/index/home",onClick:l[0]||(l[0]=e=>q("/"))},{title:(0,o.w5)((()=>[A])),_:1}),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(_.value,((e,t)=>((0,o.wg)(),(0,o.iD)(o.HY,{key:e.menu},[e.child.length>1?((0,o.wg)(),(0,o.j4)(r,{key:0,index:t+2+"",class:"first_item"},{title:(0,o.w5)((()=>[(0,o._)("span",null,(0,a.zw)(e.name),1)])),default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.child,((e,t)=>((0,o.wg)(),(0,o.j4)(s,{class:"menu_item_view",key:t,index:e.url,onClick:t=>q(e.url)},{default:(0,o.w5)((()=>[(0,o.Uk)((0,a.zw)(e.name),1)])),_:2},1032,["index","onClick"])))),128))])),_:2},1032,["index"])):((0,o.wg)(),(0,o.j4)(s,{key:1,index:e.child[0].url,class:"first_item",onClick:t=>q(e.child[0].url)},{title:(0,o.w5)((()=>[(0,o._)("span",null,(0,a.zw)(e.child[0].name),1)])),_:2},1032,["index","onClick"]))],64)))),128)),u.value?((0,o.wg)(),(0,o.j4)(s,{key:0,index:"/index/duzheCenter",class:"first_item",onClick:l[1]||(l[1]=e=>q("center"))},{title:(0,o.w5)((()=>[B])),_:1})):(0,o.kq)("",!0),(0,o._)("div",{class:"manage",onClick:l[2]||(l[2]=e=>E("http://localhost:8080/novel_db/manage/index.html"))}," 创作中心")])),_:1},8,["default-active"])])),_:1},8,["class"]),(0,o.Wm)(m),(0,o.Wm)(f,{right:100,bottom:100}),N])),_:1})])}}},q=l(3744);const E=(0,q.Z)(P,[["__scopeId","data-v-27a70a30"]]);var O=E}}]);
//# sourceMappingURL=146.d361d3fb.js.map
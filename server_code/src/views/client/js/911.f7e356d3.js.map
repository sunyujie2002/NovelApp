{"version":3,"file":"js/911.f7e356d3.js","mappings":"8fA6BA,MAAMA,GAAUC,EAAAA,EAAAA,OAAsBC,WAAWC,OAAOC,iBAClDC,GAAQC,EAAAA,EAAAA,MAERC,IADSC,EAAAA,EAAAA,OACAC,EAAAA,EAAAA,IAAI,CAAC,IACdC,GAAKD,EAAAA,EAAAA,IAAI,GACTE,GAAcF,EAAAA,EAAAA,IAAI,IAClBG,EAAYA,CAACC,EAAO,QACzBb,GAASc,MAAM,CACdC,IAAK,+BAAiCL,EAAGM,MACzCC,OAAQ,QACNC,MAAKC,IACPZ,EAAOS,MAAQG,EAAIC,KAAKA,KACxBC,OAAOC,SAAS,EAAG,KACfT,GACHU,GACD,GACC,EAGGA,EAAiBA,KACtBvB,GAASc,MAAM,CACdC,IAAK,4BACLE,OAAQ,MACRO,OAAQ,CAAEC,MAAOlB,EAAOS,MAAMS,MAAOC,MAAO,OAC1CR,MAAKC,IACPR,EAAYK,MAAQG,EAAIC,KAAKA,KAAKO,IAAI,GACrC,EAGGC,EAAYA,KACjB,IAAK,IAAIC,KAAKlB,EAAYK,MACzB,GAAIL,EAAYK,MAAMa,GAAGnB,IAAMA,EAAGM,MAAO,CACxC,GAAS,GAALa,EAEH,OADA7B,GAAS8B,UAAUC,QAAQ,UAAW,UAC/B,EAERrB,EAAGM,MAAQL,EAAYK,MAAMgB,OAAOH,GAAK,GAAGnB,GAC5CE,EAAU,MAEV,KACD,CACD,EAQKqB,EAAiBA,KACtBC,QAAQC,MAAM,EAETC,EAAYA,KACjB,IAAK,IAAIP,KAAKlB,EAAYK,MACzB,GAAIL,EAAYK,MAAMa,GAAGnB,IAAMA,EAAGM,MAAO,CACxC,GAAIa,GAAKlB,EAAYK,MAAMqB,OAAS,EAEnC,OADArC,GAAS8B,UAAUC,QAAQ,YAAa,UACjC,EAER,GAAgD,KAA5CpB,EAAYK,MAAMgB,OAAOH,GAAK,GAAGS,SAA0D,KAAxCtC,GAAS8B,UAAUS,WAAW,OAEpF,OADAvC,GAAS8B,UAAUC,QAAQ,sBAAuB,UAC3C,EAERrB,EAAGM,MAAQL,EAAYK,MAAMgB,OAAOH,GAAK,GAAGnB,GAC5CE,EAAU,MAEV,KACD,CACD,EAEK4B,EAAOA,KACZ9B,EAAGM,MAAQX,EAAMoC,MAAM/B,GACvBE,EAAU,EAAE,E,OAEb4B,I,+uBCjGA,MAAME,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://vue3-nf0/./src/views/pages/xiaoshuoxinxi/chapter.vue","webpack://vue3-nf0/./src/views/pages/xiaoshuoxinxi/chapter.vue?f1cf"],"sourcesContent":["<template>\r\n\t<div class=\"body\">\r\n\t\t<div class=\"content\">\r\n\t\t\t<h2 class=\"section-title\">{{ detail.chaptertitle }}</h2>\r\n\t\t\t<div class=\"section-content\">\r\n\t\t\t\t<div class=\"content-title\">{{ detail.title }}</div>\r\n\t\t\t\t<div class=\"content-sub-title\">发布时间：{{ detail.addtime }}</div>\r\n\t\t\t\t<el-divider></el-divider>\r\n\t\t\t\t<div class=\"content-detail\" v-html=\"detail.content\"></div>\r\n\t\t\t\t<el-divider></el-divider>\r\n\t\t\t\t<div style=\"display: flex;align-items: center;justify-content: center;width: 100%;margin: 50px 0px;\">\r\n\t\t\t\t\t<el-button color=\"rgb(230,230,230)\" round size=\"large\" @click=\"prepClick\">上一章</el-button>\r\n\t\t\t\t\t<el-button type=\"warning\" size=\"large\" round @click=\"catalogueClick\">目录</el-button>\r\n\t\t\t\t\t<el-button color=\"#626aef\" round size=\"large\" @click=\"nextClick\">下一章</el-button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n<script setup>\r\nimport {\r\n\tref,\r\n\tgetCurrentInstance,\r\n\tnextTick, onMounted\r\n} from 'vue';\r\nimport {\r\n\tuseRoute,\r\n\tuseRouter\r\n} from 'vue-router';\r\nconst context = getCurrentInstance()?.appContext.config.globalProperties;\r\nconst route = useRoute()\r\nconst router = useRouter()\r\nconst detail = ref({})\r\nconst id = ref(0)\r\nconst chapterList = ref([])\r\nconst getDetail = (type = null) => {\r\n\tcontext?.$http({\r\n\t\turl: 'chapterxiaoshuoxinxi/detail/' + id.value,\r\n\t\tmethod: 'get'\r\n\t}).then(res => {\r\n\t\tdetail.value = res.data.data\r\n\t\twindow.scrollTo(0, 100)\r\n\t\tif (type) {\r\n\t\t\tgetChapterList()\r\n\t\t}\r\n\t})\r\n}\r\n\r\nconst getChapterList = () => {\r\n\tcontext?.$http({\r\n\t\turl: 'chapterxiaoshuoxinxi/list',\r\n\t\tmethod: 'get',\r\n\t\tparams: { refid: detail.value.refid, limit: 1000 }\r\n\t}).then(res => {\r\n\t\tchapterList.value = res.data.data.list\r\n\t})\r\n}\r\n\r\nconst prepClick = () => {\r\n\tfor (let x in chapterList.value) {\r\n\t\tif (chapterList.value[x].id == id.value) {\r\n\t\t\tif (x == 0) {\r\n\t\t\t\tcontext?.$toolUtil.message('没有上一章了！', 'error')\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t\tid.value = chapterList.value[Number(x) - 1].id\r\n\t\t\tgetDetail(null);\r\n\t\t\t// window.scrollTo(0, 0)\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n}\r\n// onMounted(()=>{\r\n// \twindow.addEventListener('scroll', ()=>{\r\n// \t\tconsole.log(scrollY)\r\n// \t})\r\n// })\r\n\r\nconst catalogueClick = () => {\r\n\thistory.back()\r\n}\r\nconst nextClick = () => {\r\n\tfor (let x in chapterList.value) {\r\n\t\tif (chapterList.value[x].id == id.value) {\r\n\t\t\tif (x == chapterList.value.length - 1) {\r\n\t\t\t\tcontext?.$toolUtil.message('已经是最后一章了!', 'error')\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t\tif (chapterList.value[Number(x) + 1].vipread == '是' && context?.$toolUtil.storageGet('vip') != '是') {\r\n\t\t\t\tcontext?.$toolUtil.message('下一章为vip章节，请购买会员后阅读!', 'error')\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t\tid.value = chapterList.value[Number(x) + 1].id\r\n\t\t\tgetDetail(null);\r\n\t\t\t// window.scrollTo(0, 0)\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n}\r\nconst init = () => {\r\n\tid.value = route.query.id\r\n\tgetDetail(1)\r\n}\r\ninit()\r\n</script>\r\n<style rel=\"stylesheet/scss\" lang=\"scss\" scoped>\r\n.body {\r\n\tbackground-color: rgb(224, 224, 224);\r\n}\r\n\r\n.content {\r\n\tmargin-left: 300px;\r\n\tmargin-right: 300px;\r\n\tbackground-color: rgb(242, 242, 242);\r\n\tpadding: 20px 100px;\r\n}\r\n\r\n.section {\r\n\twidth: 900px;\r\n\tmargin: 0 auto;\r\n}\r\n\r\n.section-content {\r\n\tmargin-top: 30px;\r\n}\r\n\r\n.content-title {\r\n\r\n\tfont-size: 22px;\r\n\tfont-weight: bold;\r\n}\r\n\r\n.content-sub-title {\r\n\r\n\tmargin-top: 20px;\r\n\tcolor: #888888;\r\n\tfont-size: 14px;\r\n}\r\n</style>\r\n","import script from \"./chapter.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./chapter.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./chapter.vue?vue&type=style&index=0&id=50892f53&rel=stylesheet%2Fscss&lang=scss&scoped=true\"\n\nimport exportComponent from \"E:\\\\thesis\\\\new\\\\Novel App\\\\client_code\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-50892f53\"]])\n\nexport default __exports__"],"names":["context","getCurrentInstance","appContext","config","globalProperties","route","useRoute","detail","useRouter","ref","id","chapterList","getDetail","type","$http","url","value","method","then","res","data","window","scrollTo","getChapterList","params","refid","limit","list","prepClick","x","$toolUtil","message","Number","catalogueClick","history","back","nextClick","length","vipread","storageGet","init","query","__exports__"],"sourceRoot":""}